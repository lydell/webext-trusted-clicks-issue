# webext-trusted-clicks-issue

This is a simple Web Extension demonstrating an issue in Firefox. It let’s you click on the first link/button on a page by pressing <kbd>1</kbd>. The second with <kbd>2</kbd>. And so on. Hold ctrl or cmd while pressing <kbd>1</kbd> etc to trigger a ctrl-click.

This works fine for regular links in Firefox. But links with `target="_blank"` don’t open in a new tab as expected – instead, the popup blocker is triggered. Same thing for `window.open()`. Chrome, on the other hand, trusts clicks generated by extensions – which is very reasonable – and opens the new tabs/windows.

1. Clone this repo.
2. Load this folder as a temporary add-on in Firefox, and as an unpacked extension in Chrome.
3. Go to ./test.html and press <kbd>4</kbd>, <kbd>3</kbd>, <kbd>2</kbd>, <kbd>ctrl</kbd><kbd>1</kbd> and <kbd>1</kbd> in both browsers. Observe how the popup blocker is triggered a lot in Firefox.
